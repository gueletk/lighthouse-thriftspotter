<html>

<head>

  <title>Google Maps Multiple Markers</title>
  <!-- <script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script> -->
</head>
<body>
  <div id="map" style="height: 700px; width: 100%;">
</div>
<%@items = Item.all%>
<%@items.each do |item|%>
<h2 data-item-title="<%=item.title%>"><%=item.title%></h2>
<%end%>


<!-- <script type="text/javascript">

  var map = document.getElementById('map')

    console.log(map);

  pos = {
    lat: position.coords.latitude,
    lng: position.coords.longitude
  };

  var marker = new google.maps.Marker({
    position: pos,
    map: map,
    title: 'Hello World!'
  });





    //var title = attr("data-item-title");

  //   var locations = [
   //
   //
  //     ['title', -33.950198, 151.259302, 1]
   //
  //   ];
   //
  //   var map = new google.maps.Map(document.getElementById('map'), {
  //     zoom: 10,
  //     center: new google.maps.LatLng(-33.92, 151.25),
  //     mapTypeId: google.maps.MapTypeId.ROADMAP
  //   });
   //
  //   var pos;
   //
  //   if (navigator.geolocation) {
  //    map.zoom = 15
  //    navigator.geolocation.getCurrentPosition(function(position) {
  //      pos = {
  //        lat: position.coords.latitude,
  //        lng: position.coords.longitude
  //      };
   //
  //      map.setCenter(pos);
  //    }, function() {
  //      handleLocationError(true, infoWindow, map.getCenter());
  //    });
  //  } else {
  //    // Browser doesn't support Geolocation
  //    handleLocationError(false, infoWindow, map.getCenter());
  //  }
  //   //
  //   // var infowindow = new google.maps.InfoWindow();
  //   //
  //   // var marker, i;
   //
   //
  //   var marker = new google.maps.Marker({
  //     position: pos,
  //     map: map,
  //     title: 'Hello World!'
  //   });
  //   console.log(marker)
   //
  //   // for (i = 0; i < locations.length; i++) {
  //   //   marker = new google.maps.Marker({
  //   //     position: new google.maps.LatLng(pos.lat, pos.lng),
  //   //     map: map
  //   //   });
  //   //
  //   //   google.maps.event.addListener(marker, 'click', (function(marker, i) {
  //   //     return function() {
  //   //       infowindow.setContent(locations[i][0]);
  //   //       infowindow.open(map, marker);
  //   //     }
  //   //   })(marker, i));
  //   // }
  </script> -->
</body>
</html>
